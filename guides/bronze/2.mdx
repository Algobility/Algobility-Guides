---
title: '2D Arrays & Nested For Loops'
description: 'Grid-like arrays and how to iterate over them'
date: '2022-01-01'
credits: Ahmad Bilal, Saleh Syed
practicable: true
---

# Motivation

A common, more complex form of an array, is the two-dimensional (2D) array. The simplest way to visualize a 2D array is as a grid with rows and columns of cells, each containing an element. A 2D array is used because it can store some data in a much more organized and accessible way than regular arrays. 2D arrays can represent matrices, two-dimensional spaces (like a map, or an image where each pixel is an element), or be used as an array of arrays.

# Declaring and Initializing a 2D Array

To declare a 2D array in C++, specify the number of rows and columns it should have. Here's the basic syntax:

```cpp
data_type array_name[row_size][column_size];
```

For example to create a 2D array to represent a simple 3x3 grid of integers, we can write the following:

```cpp
int grid[3][3];
```

You can initialize a 2D array during declaration like so:

```cpp
int matrix[2][2] = {
    {1, 2},
    {3, 4}
};
```

# Accessing Elements of a 2D Array

Accessing elements in a 2D array involves using two indices — one for the row and one for the column. Similarly to one-dimensional arrays, the first row and first column of the 2D array have the index 0. Here is the general syntax to access an element.

```cpp
int element = matrix[row_index][column_index];
```

Here is an example of accessing a specific element.

```cpp
int grid[3][3] = {
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9}
};
int x = grid[2][1] // Sets ‘x’ to 8.
```

# Nested Loops:

Nested loops are loops that are contained within another loop's body. Think of it as a loop within a loop – the inner loop executes its entire iteration cycle for each iteration of the outer loop.

Here’s the basic syntax of a single loop embedded in another loop.

```cpp
for (outer initialization; outer condition; outer increment) {
    // Outer loop code

    for (inner initialization; inner condition; inner increment) {
        // Inner loop code
    }
}
```

To see how nested loops function, let’s try to output a pattern of stars. We will print a rectangle of stars with 5 rows and 10 columns.

```cpp
for (int i = 0; i < 5; ++i) {
    for (int j = 0; j < 10; ++j) {
        cout << "\* ";
    }
    cout << endl;
}
```

Result:

```text
*****
*****
*****
*****
*****
```

For each iteration of the outer loop, the following happens:
- the entire inner loop runs, causing 10 stars to be printed
- a new line is printed
These two steps are repeated 5 times because the outer loop is repeated 5 times.

Here’s another simple example. It is intended to print a series of equations equivalent to a multiplication table with all integers from 1-10. Try and trace the code to figure out how it works on your own.

```cpp
for (int i = 1; i <= 10; ++i) {
    for (int j = 1; j <= 10; ++j) {
        cout << i << " _ " << j << " = " << i _ j << endl;
    }
    cout << endl;
}

```

<Exercise number='1'>
<ExerciseQuestion>
Write some code that outputs the following with a nested for loop:
```text
10 20 30 40 50
14 24 34 44 54
18 28 38 48 58
```
</ExerciseQuestion>
<ExerciseAnswer>
```cpp
#include <bits/stdc++.h>
using namespace std;

int main(){

    for(int i = 0; i < 9; i+=4){
        for(int j = 1; j < 6; j++){
            cout << j << i << ' ';
        }
        cout << endl;
    }

}

```

This code runs a nested for loop. The outer loop increments a variable called `i` such that on the,
- first iteration `i` is 0
- second iteration `i` is 4
- third iteration `i` is 8

Within the outer loop, an inner loop outputs a variable `j` and then the current value of `i`, where `j` is a variable that increments from 1 to 5.

Now the first iteration of the outer loop looks something like this
```text
10 20 30 40 50
``` 
(since `j` is incrementing from 1 to 5 but `i` is locked at 0)

The second and third iteration of the outer loop continues the pattern with each number ending with 4 and 8 respectively

</ExerciseAnswer>
</Exercise>



Nested loops can be used in any other scenario in which a repeated action itself has to be repeated, with some modification between its repetitions. In a similar way to the printing of rows and columns of stars, nested loops can be used to access the rows and columns of matrices, or 2D arrays. 

# Looping Through a 2D Array

Looping through a 2D array requires nested loops — one outer loop to iterate the rows and another inner loop for each element within the row. 

```cpp

for (int row = 0; row < row_size; ++row) {
    for (int col = 0; col < col_size; ++col) {
        // Access and process array[row][col]
        // Reads through 2D array one row at a time
    }
}

```

On the first iteration of the outer loop, `row` is set to 0 and the entire inner for loop is executed. The inner for loop iterates through every element in row 0. Then, the outer loop increments `row` by 1 and the entire inner for loop now executes, iterating through every element in row 1. This process continues until the entire 2D array has been iterated through.

Lastly, when passing 2D arrays to a function, you must specify the number of columns. See below for an example.

```cpp

void processArray(int arr[][3]) {
// Note that the “rows” size can be left empty but the number of columns must be specified. 
// This is simply due to the way C++ was designed.
}

```
